渲染也是用js渲染的吧？

为啥说是互斥
浏览器绘制页面和执行JS不能同时进行

渲染是浏览器渲染
切片是把js任务切片吗
这个性能监控的总是看的不太懂
如果申请的任务 执行时间特别长什么时候归还呢
这个是谁申请 谁决定 什么时候归还？？？
合作式调度

没有空闲时间是不是就不requestidleCallback了

卡了
异步的写法有什么缺陷或者限制嘛
异步写法反而把执行时间变长了

如果时间比较长的任务，中断后，继续的时候是从头重新开始，还是从中断的点开始？
断点续传
1 2 3 4 5 
1 1 1
工作一天 休息一晚上
如何确定一个任务的时长？一帧16.6MS，你的任务肯定不能超16.6浏览器它自己工作需要大概10MS，所以留给你只有5ms


运用fiber 异步中断  会延长渲染时间吗？会的
任务都分片了  每个任务应该都是重新开始 增量进行的
为什么官方还默认是同步渲染，不用异步渲染呢 异步太难了。
增量更新要是往中间插元素怎么办
DOMDIFF的概念
下节会讲组件更新和DOM-DIFF

这是dom-diif 和fiber没关系吧
如果是动画呢，用requestanimation更好一点，还是直接交给setSta
如果是动画，建这句话用requestAnimation


react不是用requestIdleCallback
是的
现在只有chrome支持，
react为了兼容性
使用MessageChannel+requestAnimationFrame模拟一个requestIdleCallback

这种调度怎么兼容以前的生命周期
componentWillMount
componentWillUpdate
componentWillReceiveProps
为了异步操作让步，把这三个生命周期被废弃了

是scheduler
虚拟dom跨平台底层实现大概是啥呀
Dsl
这和声明周期无关吧
虽然有部分生命周期受了影响
react 16和17除了fiber 还有什么更新呢？
是服用吧
复用
17版本里面是不是没有unstable_createRoot了
request animation咋用啊
异步渲染和fiber之间的联系是什么
张老师，会不会在requestanimationFrame里面执行时间也过长了，这样也会影响页面卡顿，这该怎么办？
没有办法，这是一个君子协定
合作式调度
就卡死了呗
自己写的死循环必然卡住
都卡死了能有啥办法
class组件和hooks有什么区别呢
这种建议百度
是处理东西太多，O(N*N)的处理计算
https://overreacted.io/how-are-function-components-different-from-classes/
该发言可能违规，仅老师可见
你处理太多东西不能分布 那只能等执行完
任务分片的话 单个任务执行太久也还是会卡顿的
如果浏览器每帧没有剩余时间小于5毫秒 js还不执行了？
太多可以建议使用web worker

卡顿
剩余时间你执行的js大于5毫秒 肯定还会执行js呢
只是每次执行完 控制权就又交给浏览器了，别人给你5毫秒执行任务，你非要占用15毫秒浏览器也没办法
但是我们人为可以把握执行顺序，比如这样一个场景，10多个linechart同时动态更新，每个chart 好几千数据量。那就得做动态更新优化了。
默认的同步渲染，使用fiber了吗
初次渲染肯定是没有的
更新阶段才有
不要乱说
渲染阶段 fiber都没有呢
小乌龟:渲染阶段 fiber都没有呢






默认的同步渲染，使用fiber了吗
默认的同步渲染，也用了fiber
只不过没暂停
初次渲染肯定是没有的
更新阶段才有
不要乱说
渲染阶段 fiber都没有呢 有的
怎么归还任务的啊 没看明白
这里是普通的html 不是react啊
sleep 再看一下
这个剩余8毫秒,20毫秒执行是不是会延迟下一帧 会的
怎么样才能做到 执行的方法在合理的时间分片内呢 比如 剩余 13  sleep 20 应该把这个 20 拆成  10 + 10 比较合理
老项目react15升级react16,willUpdate只会警告
我们在正式课讲React性能优化的时候会讲
写业务怎么融入fiber的分片思想大大提高页面执行性能
……
吃一口 时间不够了  先吐出来  一会在吃
肯定不能
比如一个table的表格渲染怎么做更高效
这是写框架才有用的
fiber任务是dom-diff嘛？diff最小单元是每个最小的没有儿子的结点嘛？
应该是只有属性变更 按照 fiber的复用原则做最少的事情就是最小
现在都是同步渲染，没有异步渲染的话 那fiber不就是个鸡肋呢？
学前端能搞到北京户口么
苦了孩子了
学啥都搞不到北京户口
哈哈哈
fiber在执行的时候 如果用户有交互 是什么样的？
学会做梦吧
fiber是执行不重要的任务，是不是UI渲染这种的就不算是fiber
梦里啥都有
先执行用户交互因为优先级高
hook 是 挂到 fiber 的数据结构上吗？是的
memoroziedState
休息下？
以后面试的时候面试官不问fiber，干死他

他问你调和过程的任务调度优先级 你更死
fiber还算简单的 哈哈哈‘
能不能 细讲下 fiber 和 hook 的关系。
理解成hook是fiber的属性先
启发式更新算法？
调度阶段能打断吗
performance react17和你用的实验版本 一样吗
能 有优先级
只有commit不能
这手写一波  是不是就下课了
不休息快讲
休息个毛
shine:休息个毛




喝口红牛 干
扶朕起来，还能学
diff的过程  effectTag
循环链表
链式
环形链表嘛
单项链表
嗷嗷单
effect 是什么概念   setState 吗？
effect副作用，表示将要对一个DOm元素进行操作
Dom更新
插入，删除
更新属性
什么样的节点 不会被nextEffect 呢
没有变化的节点
并查集的思想？路径压缩？
副作用链表就是子孙后代被
5不是应该就有last嘛，只用把3的last指向4就可以了把
那是B1B2A
先儿子后父亲
还是AB1B2?
是那种链表
这个副作用的作用是啥
先知道啥作业是不是好理解点
这个副作用是来干啥的  比较？
回收effect是不是就是 倒着while 之前构建的fiber
就是需要更新的吧 副作用
只用把3的lastz指向4就可以了
那跟回溯不一样啊
求回放啊   这看一边   肯定搞不懂啊
为啥创建fiber是树结构,完了出来个副作用
还要做成单向列表
123是A的儿子吗
1
为啥创建fiber是树结构,完了出来个副作用  同问
flag?
NoEffect ？
这个链表的作用是啥啊
蒙了
为什么A的last要指向B呢。
root
workInprocess?
同文，这个单向链表的作用是啥
一把梭哈，渲染的时候
将一个树转变为一个单链表，方便后面的操作是吗
A B1 B2
这个单向链表的作用是啥
副作用链是干啥的
副作用 标记新增或修改dom节点
真是壮士，还有198
老师再给屡屡
12点，老师也要休息吧，看正式课再问吧。
憋得还没吃饭都不敢吃
放心去吃吧
66666
反正看不懂
后面没看懂
等总结作用
求下次解答
这个视频最少在回看两遍才行
加一节课
后面的已经蒙了
明天不连贯了
要多看几遍的
总结一下这个过程吧 老师
到这把  消化不良了
有点乱
继续吧
跟不上了
只是mount 的过程
谢谢老师 辛苦了
 同样感觉有点懵逼
课件会给吗
主要是单项链表那块吧、
diff 阶段是不是在commit  阶段之前
老师这个文档会发出来吗
efect 例如placement就是diff生成的
老师的写法写出来是AB1B2
effect  的确定是 diff阶段确定的吧
这个副作用是指吧dom放到一个列表上了吗
为啥A挂在后面
这个副作用链表是干嘛的
为啥图里面是B1B2A?
为啥要挂后面
老师，能再简单说下现在react构建fiber到domdiff，再到同调render的大致流程可以嘛
构建Fiber树是如何 构建的
是根据虚拟DOm构建的
nextChildren
DOMDIFF是比较的谁？ 是老的FIber和当前最新的虚拟DOM




所以这里说的effect 就是对DOM进行一些操作
对这些行为做一个定义就叫做副作用
A不是在后面吗？
老师辛苦了
fiber创建出来了,dom也出来了,重写渲染怎么比较的
谢谢老师
张老师辛苦了
为什么不把虚拟dom跟fiber整合到一个链条上，这样岂不是要搞两次，既要创建虚拟DOM还要遍历虚机Dom创建fiber
比较的是fiber还是副作用
workInprocess 和current
alternate
虚拟dom指的啥
双缓存
老师辛苦了。
是副作用
happy:是副作用



